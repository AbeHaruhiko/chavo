<div class="col-sm-4 col-sm-offset-4" ng-controller="LoginController as login">
  <h1>ちゃぼ</h1>
  <alert type="info" ng-show="$root.currentUser && !$root.currentUser.get('emailVerified')">メールを送信しました。メールのURLクリック後、再度ログインしてください。</alert>
  <div class="panel panel-default">
    <div class="panel-body">
      <h4>ログイン</h4>
      <form class="form-horizontal" ng-show="!$root.currentUser  || !$root.currentUser.get('emailVerified')" name="loginForm" novalidate>
        <div class="form-group">
          <div class="col-sm-12">
            <input
              type="text"
              ng-model="logInForm.username"
              class="form-control"
              id="login-username"
              name="login-username"
              placeholder="ユーザー名"/>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <input
              type="password"
              ng-model="logInForm.password"
              class="form-control"
              id="login-password"
              name="login-password"
              placeholder="パスワード"/>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <button class="btn btn-default" ng-click="login.logIn(logInForm)" ng-disabled="loginForm.email.$invalid">ログイン</button>
          </div>
        </div>
      </form>

      <div class="col-sm-12" id="resetPwPopoverContainer">
        <alert type="info" ng-show="login.showResetPwMessage">メールを送信しました。メールのURLをクリックしてパスワードを再設定してください。</alert>
        <a popover-template="'resetPwPopoverTemplate.html'"
            popover-placement="right"
            popover-trigger="focus"
            role="button"
            tabindex="0">パスワードを忘れたときはこちら</a>
        <script type="text/ng-template" id="resetPwPopoverTemplate.html">
              <div class="form-group">
                <label>Email</label>
                <input type="email" ng-model="resetPwForm.email" class="form-control" id="reset-pw-email" name="reset-pw-email">
              </div>
              <button class="btn btn-default" ng-click="login.requestPasswordReset(resetPwForm)" ng-disabled="resetPwForm.email.$invalid">送信</button>
        </script>
      </div>
    </div>
    <div class="panel-footer">
      または <button class="btn btn-default" ng-click="login.loginWithFacebook()">Facebookでログイン</button>
    </div>
  </div>
  <a class="btn btn-default" ui-sref="signup">アカウントがない場合はここから新規登録</a>
</div>
