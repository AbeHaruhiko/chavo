<div class="col-sm-8 col-sm-offset-2" ng-controller="LoginController as login">
  <h5>ログイン</h5>
  <form class="form-horizontal" ng-show="!$root.currentUser  || !$root.currentUser.get('emailVerified')" name="loginForm" novalidate>
    <alert type="info" ng-show="$root.currentUser && !$root.currentUser.get('emailVerified')">メールを送信しました。メールのURLクリック後、再度ログインしてください。</alert>
    <div class="form-group">
      <label for="username" class="col-sm-2 control-label">ユーザ名</label>
      <div class="col-sm-4">
        <input type="text" ng-model="logInForm.username" class="form-control" id="login-username" name="login-username"/>
      </div>
    </div>
    <div class="form-group">
      <label for="password" class="col-sm-2 control-label">パスワード</label>
      <div class="col-sm-4">
        <input type="password" ng-model="logInForm.password" class="form-control" id="login-password" name="login-password"/><br />
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button class="btn btn-default" ng-click="login.logIn(logInForm)" ng-disabled="loginForm.email.$invalid">ログイン</button>
        <button class="btn btn-default" ng-click="login.loginWithFacebook()">Facebookでログイン</button>
      </div>
    </div>
  </form>

  <h5>パスワードを忘れた場合</h5>
  <form class="form-horizontal" ng-show="!$root.currentUser  || !$root.currentUser.get('emailVerified')" name="resetPwForm" novalidate>
    <alert type="info" ng-show="login.showResetPwMessage">メールを送信しました。メールのURLをクリックしてパスワードを再設定してください。</alert>
    <div class="form-group">
      <label for="email" class="col-sm-2 control-label">Email</label>
      <div class="col-sm-4">
        <input type="email" ng-model="resetPwForm.email" class="form-control" id="reset-pw-email" name="reset-pw-email"/>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button class="btn btn-default" ng-click="login.requestPasswordReset(resetPwForm)" ng-disabled="resetPwForm.email.$invalid">送信</button>
      </div>
    </div>
  </form>

  <h5>ユーザ登録</h5>
  <form class="form-horizontal" ng-show="!$root.currentUser  || !$root.currentUser.get('emailVerified')" name="signUpForm" novalidate>
    <alert type="info" ng-show="$root.currentUser && !$root.currentUser.get('emailVerified')">メールを送信しました。メールのURLクリック後、再度ログインしてください。</alert>
    <div class="form-group">
      <label for="username" class="col-sm-2 control-label">ユーザ名</label>
      <div class="col-sm-4">
        <input type="text" ng-model="signUpForm.username" class="form-control" id="signup-username" name="signup-username"/>
      </div>
    </div>
    <div class="form-group">
      <label for="email" class="col-sm-2 control-label">Email</label>
      <div class="col-sm-4">
        <input type="email" ng-model="signUpForm.email" class="form-control" id="signup-email" name="signup-email"/>
      </div>
    </div>
    <div class="form-group">
      <label for="password" class="col-sm-2 control-label">パスワード</label>
      <div class="col-sm-4">
        <input type="password" ng-model="signUpForm.password" class="form-control" id="signup-password" name="signup-password"/><br />
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button class="btn btn-default" ng-click="login.signUp(signUpForm)" ng-disabled="signUpForm.email.$invalid">ユーザ登録</button>
      </div>
    </div>
  </form>

<pre>{{ $root.currentUser | json}}</pre>

</div>
